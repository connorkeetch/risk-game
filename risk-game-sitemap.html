<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Risk Game - Site Structure & Navigation Map</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f0f0f;
            color: #ffffff;
            padding: 2rem;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #3b82f6, #10b981);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        h2 {
            font-size: 1.75rem;
            margin: 2rem 0 1rem;
            color: #3b82f6;
            border-bottom: 2px solid #333;
            padding-bottom: 0.5rem;
        }

        h3 {
            font-size: 1.25rem;
            margin: 1.5rem 0 0.75rem;
            color: #10b981;
        }

        .sitemap {
            background: #1a1a1a;
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .tree {
            font-family: monospace;
            font-size: 1rem;
            line-height: 1.8;
        }

        .tree-item {
            position: relative;
            padding-left: 1.5rem;
        }

        .tree-item::before {
            content: "├─";
            position: absolute;
            left: 0;
            color: #666;
        }

        .tree-item.last::before {
            content: "└─";
        }

        .tree-item.root {
            padding-left: 0;
            font-weight: bold;
            color: #3b82f6;
        }

        .tree-item.root::before {
            content: "";
        }

        .badge {
            display: inline-block;
            padding: 0.125rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            margin-left: 0.5rem;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .badge.auth {
            background: #ef4444;
            color: white;
        }

        .badge.public {
            background: #10b981;
            color: white;
        }

        .badge.modal {
            background: #f59e0b;
            color: white;
        }

        .badge.ws {
            background: #8b5cf6;
            color: white;
        }

        .routes-table {
            background: #1a1a1a;
            border-radius: 0.75rem;
            overflow: hidden;
            margin: 1rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: #252525;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #333;
        }

        td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #333;
        }

        tr:last-child td {
            border-bottom: none;
        }

        code {
            background: #252525;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-family: monospace;
            color: #3b82f6;
        }

        .navigation-flow {
            background: #1a1a1a;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .flow-item {
            display: flex;
            align-items: center;
            margin: 0.75rem 0;
        }

        .flow-arrow {
            margin: 0 1rem;
            color: #666;
        }

        .note {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.25rem;
        }

        .warning {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.25rem;
        }

        .component-structure {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .component-card {
            background: #252525;
            border: 1px solid #333;
            border-radius: 0.5rem;
            padding: 1rem;
        }

        .component-card h4 {
            color: #3b82f6;
            margin-bottom: 0.5rem;
        }

        .component-list {
            list-style: none;
            padding-left: 1rem;
        }

        .component-list li {
            position: relative;
            padding-left: 1rem;
            margin: 0.25rem 0;
            color: #b0b0b0;
        }

        .component-list li::before {
            content: "•";
            position: absolute;
            left: 0;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🗺️ Risk Game - Complete Site Structure</h1>
        
        <div class="note">
            <strong>📌 Key Principle:</strong> Every page has access to Settings (modal) and User Menu (hamburger). 
            The main navigation changes context based on where you are (in-game vs out-of-game).
        </div>

        <h2>🌳 Site Hierarchy</h2>
        <div class="sitemap">
            <div class="tree">
                <div class="tree-item root">/ (Homepage) <span class="badge public">PUBLIC</span></div>
                <div class="tree-item">├─ /login <span class="badge public">PUBLIC</span></div>
                <div class="tree-item">├─ /register <span class="badge public">PUBLIC</span></div>
                <div class="tree-item">├─ /lobby <span class="badge auth">AUTH</span></div>
                <div class="tree-item">│  ├─ /lobby/browse (public games)</div>
                <div class="tree-item">│  ├─ /lobby/private (join with code)</div>
                <div class="tree-item">│  └─ /lobby/tournaments</div>
                <div class="tree-item">├─ /games <span class="badge auth">AUTH</span></div>
                <div class="tree-item">│  ├─ /games/active (your active games)</div>
                <div class="tree-item">│  ├─ /games/completed (match history)</div>
                <div class="tree-item">│  └─ /games/spectate (watch live games)</div>
                <div class="tree-item">├─ /game/:gameId <span class="badge auth">AUTH</span> <span class="badge ws">WEBSOCKET</span></div>
                <div class="tree-item">│  ├─ /game/:gameId/board (main game view)</div>
                <div class="tree-item">│  ├─ /game/:gameId/chat (game chat)</div>
                <div class="tree-item">│  ├─ /game/:gameId/history (move log)</div>
                <div class="tree-item">│  └─ /game/:gameId/stats (live statistics)</div>
                <div class="tree-item">├─ /create <span class="badge auth">AUTH</span></div>
                <div class="tree-item">│  ├─ /create/quick (quick game setup)</div>
                <div class="tree-item">│  ├─ /create/custom (detailed settings)</div>
                <div class="tree-item">│  └─ /create/tournament</div>
                <div class="tree-item">├─ /editor <span class="badge auth">AUTH</span></div>
                <div class="tree-item">│  ├─ /editor/new (create new map)</div>
                <div class="tree-item">│  ├─ /editor/:mapId (edit existing)</div>
                <div class="tree-item">│  └─ /editor/browse (community maps)</div>
                <div class="tree-item">├─ /profile/:userId <span class="badge public">PUBLIC</span></div>
                <div class="tree-item">│  ├─ /profile/:userId/stats</div>
                <div class="tree-item">│  ├─ /profile/:userId/achievements</div>
                <div class="tree-item">│  └─ /profile/:userId/matches</div>
                <div class="tree-item">├─ /leaderboard <span class="badge public">PUBLIC</span></div>
                <div class="tree-item">│  ├─ /leaderboard/global</div>
                <div class="tree-item">│  ├─ /leaderboard/friends</div>
                <div class="tree-item">│  └─ /leaderboard/clans</div>
                <div class="tree-item">├─ /community <span class="badge auth">AUTH</span></div>
                <div class="tree-item">│  ├─ /community/forum</div>
                <div class="tree-item">│  ├─ /community/clans</div>
                <div class="tree-item">│  └─ /community/events</div>
                <div class="tree-item">├─ /learn <span class="badge public">PUBLIC</span></div>
                <div class="tree-item">│  ├─ /learn/tutorial</div>
                <div class="tree-item">│  ├─ /learn/rules</div>
                <div class="tree-item">│  ├─ /learn/strategies</div>
                <div class="tree-item">│  └─ /learn/videos</div>
                <div class="tree-item">├─ /admin <span class="badge auth">AUTH</span> (admin only)</div>
                <div class="tree-item last">└─ /404 (not found)</div>
            </div>
        </div>

        <h2>🧭 Navigation Structure</h2>
        
        <h3>Persistent Navigation (Always Available)</h3>
        <div class="navigation-flow">
            <div class="flow-item">
                <strong>Top Bar:</strong> Logo/Home <span class="flow-arrow">→</span> Quick Actions <span class="flow-arrow">→</span> User Menu
            </div>
            <div class="flow-item">
                <strong>Hamburger Menu:</strong> Available on all pages with dropdowns for all sections
            </div>
            <div class="flow-item">
                <strong>Settings Modal:</strong> <code>Cmd/Ctrl + ,</code> or click settings icon
            </div>
        </div>

        <h3>Context-Aware Navigation</h3>
        <div class="routes-table">
            <table>
                <thead>
                    <tr>
                        <th>Location</th>
                        <th>Primary Nav Items</th>
                        <th>Quick Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/</code> Homepage</td>
                        <td>Lobby • My Games • Leaderboard • Learn</td>
                        <td>Quick Match • Create Game</td>
                    </tr>
                    <tr>
                        <td><code>/lobby</code></td>
                        <td>Browse • Private • Tournaments • My Games</td>
                        <td>Create Game • Filter • Search</td>
                    </tr>
                    <tr>
                        <td><code>/games</code></td>
                        <td>Active • Completed • Spectate • Stats</td>
                        <td>Resume Game • New Game</td>
                    </tr>
                    <tr>
                        <td><code>/game/:id</code> (In-Game)</td>
                        <td>Board • Chat • History • Stats • Help</td>
                        <td>Surrender • Settings • Full Screen</td>
                    </tr>
                    <tr>
                        <td><code>/editor</code></td>
                        <td>New Map • My Maps • Browse • Templates</td>
                        <td>Save • Test • Publish</td>
                    </tr>
                    <tr>
                        <td><code>/profile</code></td>
                        <td>Overview • Stats • Achievements • Matches</td>
                        <td>Edit Profile • Add Friend</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h2>🎮 Game Flow & User Journey</h2>
        <div class="navigation-flow">
            <h3>New User Flow</h3>
            <div class="flow-item">
                Homepage <span class="flow-arrow">→</span> Register <span class="flow-arrow">→</span> Tutorial <span class="flow-arrow">→</span> First Game
            </div>
            
            <h3>Returning Player Flow</h3>
            <div class="flow-item">
                Homepage <span class="flow-arrow">→</span> My Games (if active) <span class="flow-arrow">→</span> Resume Game
            </div>
            <div class="flow-item">
                Homepage <span class="flow-arrow">→</span> Lobby (if no active) <span class="flow-arrow">→</span> Join/Create <span class="flow-arrow">→</span> Play
            </div>
            
            <h3>Game Creation Flow</h3>
            <div class="flow-item">
                Create Game <span class="flow-arrow">→</span> Settings <span class="flow-arrow">→</span> Invite/Public <span class="flow-arrow">→</span> Waiting Room <span class="flow-arrow">→</span> Start
            </div>
        </div>

        <h2>📦 Component Structure</h2>
        <div class="component-structure">
            <div class="component-card">
                <h4>🏗️ Layout Components</h4>
                <ul class="component-list">
                    <li>AppLayout (main wrapper)</li>
                    <li>Navigation (top bar)</li>
                    <li>HamburgerMenu (slide-out)</li>
                    <li>Footer</li>
                    <li>SettingsModal</li>
                </ul>
            </div>
            
            <div class="component-card">
                <h4>📄 Page Components</h4>
                <ul class="component-list">
                    <li>HomePage</li>
                    <li>LobbyPage</li>
                    <li>GameListPage</li>
                    <li>GamePage (main game)</li>
                    <li>CreateGamePage</li>
                    <li>MapEditorPage</li>
                    <li>ProfilePage</li>
                    <li>LeaderboardPage</li>
                </ul>
            </div>
            
            <div class="component-card">
                <h4>🎮 Game Components</h4>
                <ul class="component-list">
                    <li>GameBoard</li>
                    <li>Territory</li>
                    <li>DiceRoller</li>
                    <li>PhaseControls</li>
                    <li>PlayerList</li>
                    <li>GameChat</li>
                    <li>MoveHistory</li>
                    <li>GameStats</li>
                </ul>
            </div>
            
            <div class="component-card">
                <h4>🔐 Auth Components</h4>
                <ul class="component-list">
                    <li>LoginForm</li>
                    <li>RegisterForm</li>
                    <li>AuthGuard (wrapper)</li>
                    <li>UserMenu</li>
                    <li>PasswordReset</li>
                </ul>
            </div>
        </div>

        <h2>🔗 URL Structure & Routes</h2>
        <div class="routes-table">
            <table>
                <thead>
                    <tr>
                        <th>Route Pattern</th>
                        <th>Component</th>
                        <th>Description</th>
                        <th>Auth Required</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/</code></td>
                        <td>HomePage</td>
                        <td>Landing page with hero, features</td>
                        <td>No</td>
                    </tr>
                    <tr>
                        <td><code>/lobby</code></td>
                        <td>LobbyPage</td>
                        <td>Browse and join games</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td><code>/games/active</code></td>
                        <td>GameListPage</td>
                        <td>Your active games</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td><code>/game/:gameId</code></td>
                        <td>GamePage</td>
                        <td>Full-screen game view</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td><code>/create</code></td>
                        <td>CreateGamePage</td>
                        <td>Game creation wizard</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td><code>/editor/:mapId?</code></td>
                        <td>MapEditorPage</td>
                        <td>Map creation/editing tool</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td><code>/profile/:userId</code></td>
                        <td>ProfilePage</td>
                        <td>User profile & stats</td>
                        <td>No</td>
                    </tr>
                    <tr>
                        <td><code>/leaderboard</code></td>
                        <td>LeaderboardPage</td>
                        <td>Rankings & top players</td>
                        <td>No</td>
                    </tr>
                    <tr>
                        <td><code>/community/forum</code></td>
                        <td>ForumPage</td>
                        <td>Community discussions</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td><code>/learn</code></td>
                        <td>LearnPage</td>
                        <td>Tutorials & guides</td>
                        <td>No</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h2>⚠️ Important Implementation Notes</h2>
        
        <div class="warning">
            <strong>🔴 Critical Requirements:</strong>
            <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                <li>Game pages (<code>/game/:id</code>) must be full-screen with minimal chrome</li>
                <li>Settings must be accessible from anywhere (modal overlay)</li>
                <li>WebSocket connection required for game pages</li>
                <li>Auth guard must redirect to login for protected routes</li>
                <li>Game state must persist on refresh (localStorage or server)</li>
            </ul>
        </div>

        <div class="note">
            <strong>💡 Navigation Tips:</strong>
            <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                <li>Use breadcrumbs for deep navigation (Editor, Profile sub-pages)</li>
                <li>Show "Back to Game" button when user navigates away from active game</li>
                <li>Implement keyboard shortcuts for power users (J/K for navigation, etc.)</li>
                <li>Add notification badge for turn alerts on "My Games"</li>
                <li>Consider split view for desktop (game list + selected game preview)</li>
            </ul>
        </div>

        <h2>🎯 Priority Implementation Order</h2>
        <div class="navigation-flow">
            <ol style="padding-left: 1.5rem;">
                <li><strong>Phase 1 - Core:</strong> Homepage → Login/Register → Lobby → Game Page</li>
                <li><strong>Phase 2 - Games:</strong> Create Game → Active Games → Game Flow</li>
                <li><strong>Phase 3 - Social:</strong> Profile → Leaderboard → Friends</li>
                <li><strong>Phase 4 - Content:</strong> Map Editor → Learn/Tutorial → Forum</li>
                <li><strong>Phase 5 - Polish:</strong> Achievements → Tournaments → Clans</li>
            </ol>
        </div>

        <h2>📝 For Claude Code</h2>
        <div class="note">
            <strong>Instructions for Implementation:</strong>
            <pre style="margin-top: 0.5rem; background: #252525; padding: 1rem; border-radius: 0.5rem; overflow-x: auto;">
1. Set up React Router with all routes listed above
2. Create AuthGuard component that wraps protected routes
3. Implement persistent Layout component with:
   - Top navigation bar
   - Hamburger menu
   - Settings modal (global state)
4. Create placeholder pages for all routes
5. Focus on Phase 1 routes first (Homepage → Game)
6. Ensure /game/:id is full-screen without nav clutter
7. Add "Return to Game" floating button when user has active game
8. Implement breadcrumb navigation for nested routes
9. Set up WebSocket connection manager for game pages
10. Add route transition animations for smooth navigation</pre>
        </div>
    </div>
</body>
</html>